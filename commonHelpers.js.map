{"version":3,"file":"commonHelpers.js","sources":["../src/js/images-page/get-images-async.js","../src/js/images-page/create-markup.js","../src/js/images-page/images-handle.js"],"sourcesContent":["import fetchData from '../common/fetch-data-async.js';\nimport { API_KEY, API_URL, ERR_NO_IMAGES } from '../common/constants.js';\n\nasync function getImages(strForSearch) {\n  const apiParams = {\n    key: API_KEY,\n    q: encodeURIComponent(strForSearch),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: 1,\n    per_page: 20,\n  };\n\n  const url = `${API_URL}?${new URLSearchParams(apiParams).toString()}`;\n  try {\n    const data = await fetchData(url);\n    if (!data.hits.length) {\n      throw new Error(ERR_NO_IMAGES);\n    }\n    return data.hits;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\nexport default getImages;\n","const cardMarkup = card => {\n  const { largeImageURL, previewURL, tags, likes, views, comments, downloads } =\n    card;\n\n  return `<li class='card'> \n            <a class='card-link' href='${largeImageURL}'>                    \n              <div class='card-cover-inner'>                \n                  <img class='card-cover'\n                      src='${previewURL}'\n                      alt='${tags}'                                                          \n                  />                                                  \n                <div class='card-cover-darkened'></div>\n              </div>\n            </a>                 \n            <div class=\"card-info\">\n                <div class=\"field\">\n                    <span class=\"label\">Likes</span>\n                    <span class=\"value\">${likes}</span>    \n                </div>\n                <div class=\"field\">\n                    <span class=\"label\">Views</span>\n                    <span class=\"value\">${views}</span>   \n                </div>\n                <div class=\"field\">\n                    <span class=\"label\">Comments</span>\n                    <span class=\"value\">${comments}</span>    \n                </div>\n                <div class=\"field\">\n                    <span class=\"label\">Downloads</span>\n                    <span class=\"value\">${downloads}</span>    \n                </div>\n            </div>\n        </li>`;\n};\n\nfunction createCardsMarkup(cards) {\n  return cards.map(cardMarkup).join('');\n}\n\nfunction createCadsGallery(cardsArray, galleryRef) {\n  const cardsMarkup = createCardsMarkup(cardsArray);\n  galleryRef.innerHTML = '';\n  galleryRef.insertAdjacentHTML('beforeend', cardsMarkup);\n}\n\nexport { createCardsMarkup };\nexport default createCadsGallery;\n","import getImages from './get-images-async.js';\n\nimport createCadsGallery from './create-markup.js';\n\nimport { createErrMsg, createOkMsg } from '../common/create-msg';\n\nconst listImagesRef = document.querySelector('.images-list');\n\nasync function fetchImagesAndHandle() {\n  try {\n    const images = await getImages('cats');\n    onSuccess(images);\n  } catch (error) {\n    onError(error);\n  }\n}\n\nfunction onSuccess(images) {\n  createCadsGallery(images, listImagesRef);\n  createOkMsg(\"It's ok!\");\n}\n\nfunction onError(error) {\n  console.error(error.message);\n  createErrMsg(error.message);\n}\n\nfetchImagesAndHandle();\n"],"names":["getImages","strForSearch","apiParams","API_KEY","url","API_URL","data","fetchData","ERR_NO_IMAGES","error","cardMarkup","card","largeImageURL","previewURL","tags","likes","views","comments","downloads","createCardsMarkup","cards","createCadsGallery","cardsArray","galleryRef","cardsMarkup","listImagesRef","fetchImagesAndHandle","images","onSuccess","onError","createOkMsg","createErrMsg"],"mappings":"8PAGA,eAAeA,EAAUC,EAAc,CACrC,MAAMC,EAAY,CAChB,IAAKC,EACL,EAAG,mBAAmBF,CAAY,EAClC,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EACd,EAEQG,EAAM,GAAGC,KAAW,IAAI,gBAAgBH,CAAS,EAAE,SAAU,IACnE,GAAI,CACF,MAAMI,EAAO,MAAMC,EAAUH,CAAG,EAChC,GAAI,CAACE,EAAK,KAAK,OACb,MAAM,IAAI,MAAME,CAAa,EAE/B,OAAOF,EAAK,IACb,OAAQG,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CCxBA,MAAMC,EAAaC,GAAQ,CACzB,KAAM,CAAE,cAAAC,EAAe,WAAAC,EAAY,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAC1EP,EAEF,MAAO;AAAA,yCACgCC;AAAA;AAAA;AAAA,6BAGZC;AAAA,6BACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAQaC;AAAA;AAAA;AAAA;AAAA,0CAIAC;AAAA;AAAA;AAAA;AAAA,0CAIAC;AAAA;AAAA;AAAA;AAAA,0CAIAC;AAAA;AAAA;AAAA,cAI1C,EAEA,SAASC,EAAkBC,EAAO,CAChC,OAAOA,EAAM,IAAIV,CAAU,EAAE,KAAK,EAAE,CACtC,CAEA,SAASW,EAAkBC,EAAYC,EAAY,CACjD,MAAMC,EAAcL,EAAkBG,CAAU,EAChDC,EAAW,UAAY,GACvBA,EAAW,mBAAmB,YAAaC,CAAW,CACxD,CCrCA,MAAMC,EAAgB,SAAS,cAAc,cAAc,EAE3D,eAAeC,GAAuB,CACpC,GAAI,CACF,MAAMC,EAAS,MAAM3B,EAAU,MAAM,EACrC4B,EAAUD,CAAM,CACjB,OAAQlB,EAAP,CACAoB,EAAQpB,CAAK,CACd,CACH,CAEA,SAASmB,EAAUD,EAAQ,CACzBN,EAAkBM,EAAQF,CAAa,EACvCK,EAAY,UAAU,CACxB,CAEA,SAASD,EAAQpB,EAAO,CACtB,QAAQ,MAAMA,EAAM,OAAO,EAC3BsB,EAAatB,EAAM,OAAO,CAC5B,CAEAiB,EAAsB"}